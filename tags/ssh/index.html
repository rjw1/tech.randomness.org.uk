<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
 <head>
  <title>bob's tech ramblings: Entries Tagged ssh</title> 
  <link rel="stylesheet" type="text/css" media="screen" href="http://tech.randomness.org.uk/style.css">
  <link rel="alternate" title="RSS Feed" href="ssh.rss" type="application/rss+xml">
 </head>
 <body>

 <div class="title">
  <h1 class="title1">
       <a href="http://tech.randomness.org.uk/">bob's tech ramblings</a>
      
  </h1>
  
      <h2 class="title2">where i ramble about technical things</h2>
  
 </div>

<div id="sidebar">
Menu
<ul>
<li><a href="http://randomness.org.uk/" rel="me" >website</a>
<li><a href="http://flickr.com/photos/rjw1/" rel="me" >flickr</a>
<li><a href="http://http://pinboard.in/u:rjw1" rel="me" >pinboard</a>
<li><a href="http://twitter.com/rjw1" rel="me" >twitter<a>
<li><a href="http://bob.dreamwidth.org/" rel="me" >dw</a>
<li><a href="http://isitpie.com/">Is it pie</a>
<li><a href="http://london.randomness.org.uk">Randomness Guide to London</a>
</ul>
<p>
<iframe src="http://rcm-uk.amazon.co.uk/e/cm?t=randomness05-21&o=2&p=6&l=st1&mode=books-uk&search=systems%20administration%20linux&nou=1&fc1=000000&lt1=_blank&lc1=9100C9&bg1=000000&f=ifr" marginwidth="0" marginheight="0" width="120" height="150" border="0" frameborder="0" style="border:none;" scrolling="no"></iframe>
</p>

Archive
<ul>

<li>2012
<ul>

<li><a href="http://tech.randomness.org.uk/archive/2012/06/">June (1)</a></li>

</ul></li>

<li>2009
<ul>

<li><a href="http://tech.randomness.org.uk/archive/2009/08/">August (4)</a></li>

</ul></li>

<li>2008
<ul>

<li><a href="http://tech.randomness.org.uk/archive/2008/01/">January (7)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2008/05/">May (1)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2008/06/">June (1)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2008/08/">August (1)</a></li>

</ul></li>

<li>2007
<ul>

<li><a href="http://tech.randomness.org.uk/archive/2007/03/">March (1)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2007/04/">April (2)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2007/12/">December (1)</a></li>

</ul></li>

<li>2006
<ul>

<li><a href="http://tech.randomness.org.uk/archive/2006/07/">July (3)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2006/09/">September (1)</a></li>

<li><a href="http://tech.randomness.org.uk/archive/2006/10/">October (1)</a></li>

</ul></li>

</ul>



Tags
<ul>

 <li><a href="http://tech.randomness.org.uk/tags/alerting">alerting (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/apache">apache (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/apple">apple (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/apt">apt (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/backups">backups (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/bash">bash (4)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/blog">blog (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/bob">bob (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/books">books (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/cache">cache (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/capistrano">capistrano (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/catalyst">catalyst (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/certificate">certificate (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/chronicle">chronicle (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/cisco">cisco (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/cpan">cpan (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/cron">cron (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/ddos">ddos (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/dean">dean (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/debian">debian (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/debs">debs (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/deployment">deployment (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/drbd">drbd (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/dwilson">dwilson (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/email">email (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/feeds">feeds (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/free">free (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/geodata">geodata (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/google">google (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/gps">gps (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/ha">ha (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/hate">hate (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/heartbeat">heartbeat (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/hints">hints (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/holding">holding (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/hpux">hpux (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/hsrp">hsrp (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/humans">humans (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/install">install (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/ipv6">ipv6 (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/kml">kml (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/linux">linux (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/london.pm">london.pm (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/macosx">macosx (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/mailinglist">mailinglist (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/mailman">mailman (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/mapping">mapping (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/mod_rewrite">mod_rewrite (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/moose">moose (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/nagios">nagios (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/nokia">nokia (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/openbsd">openbsd (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/openguides">openguides (3)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/packages">packages (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/patch">patch (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/perl">perl (4)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/plagger">plagger (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/planet">planet (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/pub">pub (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/raid">raid (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/recipe">recipe (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/repo">repo (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/rgl">rgl (3)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/routers">routers (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/rss">rss (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/rules">rules (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/scripts">scripts (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/shiny">shiny (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/signed">signed (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/software">software (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/solaris">solaris (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/ssh">ssh (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/ssl">ssl (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/stupid">stupid (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/svn">svn (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/switching">switching (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/testing">testing (2)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/tip">tip (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/tricks">tricks (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/ubuntu">ubuntu (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/web">web (1)</a></li>

 <li><a href="http://tech.randomness.org.uk/tags/zimki">zimki (1)</a></li>

</ul>

</div>

<div id="content">
 <p>Entries tagged "ssh".</p>




<div class="entry">
 <div class="title">
<h1><a href="http://tech.randomness.org.uk/Function_and_Alias_use_in_bash.html">Function and Alias use in bash</a></h1>
 </div>
 <div class="date">
   1st October 2006
 </div>

 <div class="body">
  <p>For a while now ive been using aliases to connect to machines. I alias a $hostname to <code>xterm -T $hostname -e ssh $hostname &</code>. This means each connection gets a new fresh xterm. Of course doing an alias command for each host woudl be tedious so i have some magic in bash startup stuff.</p>
<pre>
bob@betty:~ >cat .bashrc 
[ -f ~/.bash_aliases ] && . ~/.bash_aliases
PS1="\u@\h:\w >"
PATH=$PATH:/usr/sbin:/usr/local/sbin:/sbin
bob@betty:~ >cat .bash_aliases 
for MACHINE in `cat ~/.machines`
do
alias $MACHINE="xterm -T $MACHINE -e ssh $MACHINE &"
done
</pre>
<p> Where <code>.machines</code> is a list of machines one per line</p>
<p> Recently I have been connecting to machines which arnt in this list with ssh directly. This has the disadvantage that they dont get their own xterm and I have to start another xterm manually if I need another one. So I started to looking into aliasing ssh to the same thing. However, aliases arnt clever enough for this you need to use functions instead. </p>
<p>So I wrote a function to do what i wanted.</p>
<pre>
function ssh {
xterm -T $1 -e ssh $1 &
}
</pre>
<p> It then occured to me since this is just programming perhaps I can expand this to check to see if host is mentioned in <code>.machines</code> and if it isnt add it. So I wrote a function</p>
<pre>
function testmachine {
machine=`grep $1 ~/.machines`
if [ "x$machine" = "x" ]
then
        echo "not in ~/.machines adding"
        echo $1 >> ~/.machines
        source ~/.bash_aliases
fi
}
</pre>
<p> As you can see it also then sources <code>~/.bash_aliases</code> this makes sure that the current shell gets the new alias. I then added more to the ssh fucntion</p>
<pre>
function ssh {
xterm -T $1 -e ssh $1 &
testmachine $1
}
</pre>
<p>I then told my <code>.bashrc</code> to source a new file called <code>.bash_functions</code> which contains the two fucntions from above. And everything is now good.</p>

 </div>
 <div class="tags">
 

 
  Tags: <a href="http://tech.randomness.org.uk/tags/bash">bash</a>, <a href="http://tech.randomness.org.uk/tags/hints">hints</a>, <a href="http://tech.randomness.org.uk/tags/ssh">ssh</a>, <a href="http://tech.randomness.org.uk/tags/tricks">tricks</a>.
 
 </div>
</div>
<hr>
<div class="padding"></div>

<div class="entry">
 <div class="title">
<h1><a href="http://tech.randomness.org.uk/Hostnames_as_Bash_Commands.html">Hostnames as Bash Commands</a></h1>
 </div>
 <div class="date">
   6th January 2008
 </div>

 <div class="body">
  <p>In the <a href="http://london.randomness.org.uk/wiki.cgi?Edgar_Wallace,_WC2R_3JF">pub</a> the other day for the <a href="http://london.pm.org/">London.pm<a/> <a href="http://london.pm.org/meetings/">Social</a> Smylers brought up the stuff he uses to make <a href="http://london.pm.org/pipermail/london.pm/Week-of-Mon-20071231/011920.html">hostnames a bash command</a>. He also found the time to generate some <a href="http://smylers.hates-software.com/2008/01/04/090399e2.html">hate</a>. </p>
<p>I do this another way as I have previoulsy <a href="http://tech.randomness.org.uk/Function_and_Alias_use_in_bash.html">blogged</a>. Dominic Mitchell at the time <a href="http://happygiraffe.net/blog/articles/2006/10/05/shell-scripting">pointed out</a> that my scripting sucks. In fact my <a href="http://svn.randomness.org.uk/trunk/bob/dotfiles/.bash_functions">current version</a> takes his suggestions on board.</p>


 </div>
 <div class="tags">
 

 
  Tags: <a href="http://tech.randomness.org.uk/tags/bash">bash</a>, <a href="http://tech.randomness.org.uk/tags/london.pm">london.pm</a>, <a href="http://tech.randomness.org.uk/tags/pub">pub</a>, <a href="http://tech.randomness.org.uk/tags/ssh">ssh</a>.
 
 </div>
</div>
<hr>
<div class="padding"></div>

</div>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1507315-2");
pageTracker._trackPageview();
</script>


</body>
</html>
